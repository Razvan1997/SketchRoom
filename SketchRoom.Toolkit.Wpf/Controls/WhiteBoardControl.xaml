<UserControl
    x:Class="SketchRoom.Toolkit.Wpf.Controls.WhiteBoardControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:SketchRoom.Toolkit.Wpf.Controls"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DesignHeight="450"
    d:DesignWidth="800"
    mc:Ignorable="d">

    <Grid Background="#2A2D30">
        <ScrollViewer
            x:Name="ScrollViewer"
            ClipToBounds="True"
            HorizontalScrollBarVisibility="Hidden"
            VerticalScrollBarVisibility="Auto">
            <Canvas
                x:Name="DrawingRoot"
                Width="2244"
                Height="3185"
                Background="Transparent"
                MouseWheel="Canvas_MouseWheel"
                PreviewMouseLeftButtonDown="OnCanvasLeftClickStart"
                PreviewMouseLeftButtonUp="OnCanvasLeftClickEnd"
                PreviewMouseMove="OnCanvasMouseMove"
                PreviewMouseRightButtonDown="DrawingRoot_PreviewMouseRightButtonDown"
                PreviewMouseRightButtonUp="DrawingRoot_PreviewMouseRightButtonUp">

                <Canvas.RenderTransform>
                    <TransformGroup>
                        <ScaleTransform x:Name="ZoomScale" ScaleX="1" ScaleY="1" />
                        <TranslateTransform x:Name="ZoomTranslate" X="0" Y="0" />
                    </TransformGroup>
                </Canvas.RenderTransform>


                <Canvas
                    x:Name="SnapGridCanvas"
                    Width="2244"
                    Height="3185"
                    Panel.ZIndex="1"
                    IsHitTestVisible="False">
                    <Canvas.Background>
                        <DrawingBrush
                            AlignmentX="Left"
                            AlignmentY="Top"
                            Opacity="0.3"
                            Stretch="None"
                            TileMode="Tile"
                            Viewbox="0,0,100,100"
                            ViewboxUnits="Absolute"
                            Viewport="0,0,100,100"
                            ViewportUnits="Absolute">
                            <DrawingBrush.Drawing>
                                <DrawingGroup>
                                    <!--  Grilă mică (20x20)  -->
                                    <GeometryDrawing Brush="Transparent">
                                        <GeometryDrawing.Pen>
                                            <Pen Brush="#33FFFFFF" Thickness="0.5" />
                                        </GeometryDrawing.Pen>
                                        <GeometryDrawing.Geometry>
                                            <GeometryGroup>
                                                <!--  Linii verticale  -->
                                                <LineGeometry StartPoint="20,0" EndPoint="20,100" />
                                                <LineGeometry StartPoint="40,0" EndPoint="40,100" />
                                                <LineGeometry StartPoint="60,0" EndPoint="60,100" />
                                                <LineGeometry StartPoint="80,0" EndPoint="80,100" />
                                                <!--  Linii orizontale  -->
                                                <LineGeometry StartPoint="0,20" EndPoint="100,20" />
                                                <LineGeometry StartPoint="0,40" EndPoint="100,40" />
                                                <LineGeometry StartPoint="0,60" EndPoint="100,60" />
                                                <LineGeometry StartPoint="0,80" EndPoint="100,80" />
                                            </GeometryGroup>
                                        </GeometryDrawing.Geometry>
                                    </GeometryDrawing>

                                    <!--  Grilă mare (100x100)  -->
                                    <GeometryDrawing Brush="Transparent">
                                        <GeometryDrawing.Pen>
                                            <Pen Brush="#66FFFFFF" Thickness="0.8" />
                                        </GeometryDrawing.Pen>
                                        <GeometryDrawing.Geometry>
                                            <GeometryGroup>
                                                <LineGeometry StartPoint="0,0" EndPoint="100,0" />
                                                <LineGeometry StartPoint="0,0" EndPoint="0,100" />
                                            </GeometryGroup>
                                        </GeometryDrawing.Geometry>
                                    </GeometryDrawing>
                                </DrawingGroup>
                            </DrawingBrush.Drawing>
                        </DrawingBrush>
                    </Canvas.Background>
                </Canvas>

                <Canvas
                    x:Name="DrawingCanvas"
                    Width="2244"
                    Height="3185"
                    AllowDrop="True"
                    Background="#1A1A1A"
                    DragOver="DrawingCanvas_DragOver"
                    Drop="DrawingCanvas_Drop" />
            </Canvas>
        </ScrollViewer>
    </Grid>
</UserControl>

